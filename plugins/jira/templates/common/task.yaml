# Generated by Claude Sonnet 4.5 (Anthropic) - December 2025
#
# Common Task Template
inherits: _base.yaml

name: common-task
description: Base task template for technical and operational work
version: 1.0.0
created: 2025-01-08
author: openshift-eng

source:
  repository: "https://github.com/openshift-eng/ai-helpers"
  path: "plugins/jira/templates/common/task.yaml"

documentation:
  guide: "../../docs/issue-types/task.md"
  description: "Guide on tasks: what they are, when to use them vs stories, and best practices"

issue_type: Task

defaults:
  labels:
    - ai-generated-jira
    - template:common-task

display_format:
  - project
  - priority
  - summary
  - assignee
  - status

description_template: |
  {{task_description}}

  h4. Why

  {{motivation}}

  h4. Acceptance Criteria

  {{#acceptance_criteria}}
  * {{.}}
  {{/acceptance_criteria}}
  {{#additional_context}}

  h4. Additional Context

  {{additional_context}}
  {{/additional_context}}

placeholders:
  - name: task_description
    description: "What work needs to be done?"
    required: true
    type: multiline
    prompt_text: "What work needs to be done? Be specific about what you'll change or update."
    help_text: |
      Provide clear description of the technical or operational work.
      Be specific: What component is being worked on? What changes will be made?
      What's the end state after this task is complete?
    examples:
      - "Refactor the scaling controller to extract common validation logic into a shared utility package. Currently, validation code is duplicated across three controller files."
      - "Update autoscaling documentation to reflect API changes in the 4.21 release. Current docs reflect 4.20 and will confuse users."
      - "Configure Prometheus alerts for control plane memory usage to notify when components exceed thresholds."
    validation:
      min_length: 20
      max_length: 1000

  - name: motivation
    description: "Why is this task needed? What problem does it solve?"
    required: true
    type: multiline
    prompt_text: "Why is this task needed? What problem does it solve?"
    help_text: |
      Explain the context or motivation for this work.
      What prompted this? What will improve after it's done?
      Is this addressing a specific issue or enabling future work?
    examples:
      - "Code duplication makes maintenance difficult. When validation logic changes, we have to update it in three places, which is error-prone. Consolidating into a shared utility will make the code easier to maintain and reduce bugs."
      - "The autoscaling API changed in 4.21 with new fields and behavior. Documentation currently reflects 4.20 and will confuse users."
      - "Recent incidents involved control plane components running out of memory. Proactive alerting will help catch issues before they cause outages."
    validation:
      min_length: 10
      max_length: 1000

  - name: acceptance_criteria
    description: "How will you know this task is complete?"
    required: true
    type: list
    prompt_text: "How will you know this task is complete? (one per line, 2-5 criteria recommended)"
    validation:
      min_items: 1
      max_items: 8
    help_text: |
      Define what "done" looks like for this task.
      For technical tasks, AC might include:
      - Tests passing
      - Documentation updated
      - Code review completed
      - Specific functionality working
    examples:
      - "Validation logic extracted to support/validation package"
      - "All three controllers updated to use shared validation"
      - "Existing tests pass"
      - "New unit tests added for validation utility"
      - "Code review approved"

validation:
  summary:
    max_length: 100
    should_start_with_verb: true
