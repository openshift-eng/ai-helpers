# Generated by Claude Sonnet 4.5 (Anthropic) - December 2025
#
# Common Spike Template
inherits: _base.yaml

name: common-spike
description: Base spike template for research and investigation work
version: 1.0.0
created: 2025-01-08
author: openshift-eng

source:
  repository: "https://github.com/openshift-eng/ai-helpers"
  path: "plugins/jira/templates/common/spike.yaml"

documentation:
  guide: "../../docs/issue-types/spike.md"
  description: "Guide on spikes: time-boxed research, when to use them, and best practices"

issue_type: Spike

defaults:
  labels:
    - ai-generated-jira
    - template:common-spike

display_format:
  - project
  - priority
  - summary
  - assignee
  - status

description_template: |
  {{overview}}

  h4. Research Questions

  {{#research_questions}}
  * {{.}}
  {{/research_questions}}

  h4. Acceptance Criteria

  {{#acceptance_criteria}}
  * {{.}}
  {{/acceptance_criteria}}
  {{#additional_context}}

  h4. Additional Context

  {{additional_context}}
  {{/additional_context}}

placeholders:
  - name: overview
    description: "What needs to be investigated and why?"
    required: true
    type: multiline
    prompt_text: "What do you need to investigate? (brief overview of the research)"
    help_text: |
      Provide overview of what needs to be investigated:
      - What problem or opportunity are you exploring?
      - Why is this research needed?
      - What decisions depend on the outcome?
    examples:
      - "Investigate whether eBPF can replace iptables for network policy enforcement on edge devices. Current iptables-based approach has performance limitations on resource-constrained edge hardware. eBPF may provide better performance but requires investigation to validate feasibility."
      - "Research options for multi-cluster metrics aggregation. Need to select approach before planning implementation epic."
    validation:
      min_length: 20
      max_length: 1000

  - name: research_questions
    description: "Specific questions this spike should answer"
    required: true
    type: list
    prompt_text: "What specific questions should this spike answer? (one per line, 2-5 questions recommended)"
    validation:
      min_items: 2
      max_items: 10
    help_text: |
      List specific questions the spike will answer.
      Questions should be:
      - Specific and focused
      - Answerable within time box
      - Actionable (answers inform decisions)
    examples:
      - "Can eBPF handle our network policy requirements?"
      - "What's the performance difference vs iptables on ARM processors?"
      - "What's the minimum kernel version required?"
      - "Are there limitations or edge cases that would prevent adoption?"

  - name: acceptance_criteria
    description: "What deliverables define the spike as complete?"
    required: true
    type: list
    prompt_text: "How will you know this spike is complete? (deliverables, one per line)"
    validation:
      min_items: 2
      max_items: 8
    help_text: |
      Define what deliverables mark the spike as complete.
      Typical spike AC:
      - Document findings with evidence
      - Provide recommendation (proceed/don't proceed/modify approach)
      - Create follow-up stories/tasks if proceeding
      - Share findings with stakeholders
    examples:
      - "Document findings with performance benchmarks"
      - "Provide recommendation: proceed, investigate alternatives, or stay with current approach"
      - "Create follow-up epic if recommendation is to proceed"
      - "Present findings to relevant teams"

